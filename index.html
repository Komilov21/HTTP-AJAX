<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
    integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    <title>HTTP</title>
</head>
<body>

<div class="container">
    <h1 >Music list</h1>
    <div class="row" ></div>

    <button class="btn-primary">List of Musics</button>
</div>














<script>
 const options = {
	method: 'GET',
	headers: {
		'X-RapidAPI-Key': '72807e5731msh5a47c81335807ecp1452a3jsn0bcac245116e',
		'X-RapidAPI-Host': 'deezerdevs-deezer.p.rapidapi.com'
	}
};

fetch('https://deezerdevs-deezer.p.rapidapi.com/infos', options)
	.then(response => response.json())
	.then(response => console.log(response))
	.catch(err => console.error(err));




    const search = {
	method: 'GET',
	headers: {
		'X-RapidAPI-Key': '72807e5731msh5a47c81335807ecp1452a3jsn0bcac245116e',
		'X-RapidAPI-Host': 'deezerdevs-deezer.p.rapidapi.com'
	}
};

fetch('https://deezerdevs-deezer.p.rapidapi.com/search?q=eminem', options)
	.then(response => response.json())
	.then(response => console.log(response))
	.catch(err => console.error(err));



    const listOfMusics =()=>{
        const options = {
	method: 'GET',
	headers: {
		'X-RapidAPI-Key': '72807e5731msh5a47c81335807ecp1452a3jsn0bcac245116e',
		'X-RapidAPI-Host': 'deezerdevs-deezer.p.rapidapi.com'
	}
}


fetch('https://deezerdevs-deezer.p.rapidapi.com/playlist/%7Bid%7D',options,  { method: "GET" })
fetch('https:deezerdevs-deezer.p.rapidapi.com/search?q=pink%20floyd', options)
	.then(response => response.json())
	.then(songList => {
        console.log(songList)


    
        const lists = document.querySelector(".container > .row")

        for (i=0; i< songList.data.length;i++){
            const list =songList.data[i];

            let col =document.createElement("div")
            col.className="col-sm-6 col-md-4 col-lg-3";

            col.innerHTML=`<div class="card">
                           <img src=${list.album.cover} " alt=${list.title} "image">
                          <div class="card-body">
                          <p class="card-text">${list.title_short}.</p>
                          </div>
                        </div>`

                        lists.appendChild(col)
  
                    }

                })
                .catch(err => console.error(err));

    
    
 };
 
    

        
    window.onload = () => {

const btn = document.querySelector("button")

btn.addEventListener("click",listOfMusics )

}
        

   
 </script>






    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct"
    crossorigin="anonymous"></script>
    
</body>
</html>